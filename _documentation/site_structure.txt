Описание структуры сайта.

1. Структура сайта описывается в structure-файлах, которые распологаются в папке _site.
   Главный structure-файл имеет имя _main.xml и он обязательно должен существовать.
   
   Описание можно разбить на несколько файлов. 
   Например каждый плагин может добавлять в эту папку свои structure-файлы,
   где будут описываться страницы, обработчики и меню именно этого плагина.
   Можно также хранить описание страниц и меню отдельно друг от друга.
   
2. Содержимое structure-файлов. 
   Формат - XML.
   Общий вид:
   
   <site>
     <rights>...</rights>
     <pages>...</pages>
     <menus>...</menus>
   </site>
   
3. Раздел rights. Контроль прав.
   Здесь перечислются все возможные права, которые доступны на сайте. 
   Каждый сайт может иметь любое количество разнообразных прав
   
   Список ситемных прав:
     root - права не проверяется. Имеет доступ везде
     admin - администратор
     _unloggined_- только для незалогиненых юзеров - НЕ описывается в rights
     
   Т.к. _unloggined_ не является набором прав в чистом виде, то описывать в разделе rights его не надо.
   
   Пример.
   <rights>
     <item>root</item>
     <item>admin</item>
     <item>manager</item>
     <item>user</item>
     <item>premium_user</item>   
   </rights>
   
   Каждый узел structure-файла может иметь набор прав. Только пользователь, который имеет необходимое 
   право имеет доступ к этому узлу. Набор прав задаётся в атрибуте rights. Если атрибут rights не задан, то
   узел будет доступен всем пользователям. Если rights="", то узел доступен только залогиненым пользователям.
   Пример.
   <menu_edit rights="admin, manager">...</menu_edit> - данное меню доступно только администратору и менеджеру
   <title rights="_unloggined_">Вы не вошли в систему</title> - этот заголовок будет виден всем незалогиненым пользователям 
   <title rights="">Добро пожаловать</title> - этот заголовок будет виден только залогиненым пользователям 
   <title rights="root">Добро пожаловать, повелитель</title> - этот заголовок будет виден только root'у
   
   Прописывать права для root в общем случае не обязательно, т.к. он имеет доступ ко всем узлам. В случае с title 
   из примера выше для root'а будет выведен заголовок "Добро пожаловать, повелитель", т.к. этот узел будет иметь наивысший приоритет.  
   
   (Техническая подробность. Структура сайта загружается в поле $o_global->site_array. 
   Затем из массива $o_global->site_array удаляются все записи на которые у пользователя нет прав.
   Так достигается простота и надёжность разделения прав в системе.
   В то же время в $o_global->site_full_array сохраняется полное дерево структуры сайта, это сделано 
   в основном для того чтобы была возможность проверить запрошенная страница не существует или же у пользователя 
   просто не хватает прав для просмотра этой страницы)
   
4. Раздел pages.
   Описывает страницы сайта.
   Состоит из узлов <item screen="{экран}" name="{имя узла}" parent="{имя родительского узла}">.
     {экран} - обязательный атрибут - раздел сайта из ЧПУ. http://site.com/{экран1}/{экран2}/{экран3}
     {имя узла} - необязательный атрибут - если задать имя узла, то от этого узла можно будет наследовать другие узлы 
     {имя родительского узла} - необязательный атрибут - имя узла от которого наследуется текущий узел
     
   Главный экран не имеет названия. Описывается так <item screen="">...</item>. 
   Для главного экрана не нужно указвать атрибут rights. 
   Либо же позабоится чтобы были описания главного экрана для всех прав, напрмер 
   <item screen="" rights=""> - для всех залогиненых
   <item screen="" rights="_unloggined_"> - для всех незалогиненых
   
   -------------
   Системынй экран <item screen="404">
   
   Что внутри
    <item screen="" name="main">
      <!-- можно задать редирект на любой путь -->
      <!--<redirect>/somescreen1/somescreen2</redirect>-->
      <title>RA-Project</title>
      <description>RA-Project</description>
      <keywords>project</keywords>
      <params>
        <onhashchange>juickInit(juickID)</onhashchange> 
      </params>      
      <theme>index/main.xsl</theme>
      <handlers>
        <menu_top>h_menu</menu_top>
        <content xsl="page_main.xsl">h_static</content>
        <footer xsl="footer.xsl">h_static</footer>
      </handlers>
    </item>
    
    <item screen="screen" parent="main">...</item>
    
    <item screen="show" ajax="1">
      <!-- запросы картинок. Все запросы автоматом становятся аяксовыми -->
      <handlers>
        <content>p_show</content>
      </handlers>     
    </item>


    